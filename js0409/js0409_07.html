<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>함수</title>
    <script>
        //             저체중 정상 비만전단계 1단계비만 2단계비만 3단계비만
        let arr_type = [18.5,23,25,30,35,35.1]
        let arr_type2 = ['저체중','정상','비만전단계','1단계비만','2단계비만','3단계비만']

        function bmiBtn(){
            //let weight = 0;
            //let height = 0;
            let wei = document.querySelector('#weight').value;
            let hei = document.querySelector('#height').value/100;
            console.log('몸무게 :',wei);
            console.log('키 :',hei);

            let bmi = Math.round((wei / (hei*hei))*10)/10;
            console.log(bmi)

            let result_title = 0;
            
            if(bmi<arr_type[0]){
                result_title = arr_type2[0]
            }
            else if(bmi<arr_type[1]){
                result_title = arr_type2[1]
            }
            else if(bmi<arr_type[2]){
                result_title = arr_type2[2]
            }
            else if(bmi<arr_type[3]){
                result_title = arr_type2[3]
            }
            else if(bmi<arr_type[4]){
                result_title = arr_type2[5]
            }
            else if(bmi>=arr_type[5]){
                result_title = arr_type2[5]
            }

            let avg_wei = 0;
            

            //console.log(document.querySelector("input[type='radio']:checked").value);
            let gen = document.querySelector("input[type='radio']:checked").value;

            if(gen=='남성'){
                avg_wei = Math.floor(((hei**2)*22)*10)/10;
            }
            else{avg_wei = Math.floor(((hei**2)*21)*10)/10;}
            

            let result = "당신의 신체질량지수(BMI)는 "+bmi+" (으)로 "+result_title+"입니다.<br> 평균체중은 "+avg_wei+"kg 입니다.";
            document.querySelector('#main').innerHTML = result;
        }

    </script>
    <style>
        div{width:600px; height:100px; border:2px solid black; text-align:center; 
            font-size:20px;   font-weight:700; }
    </style>
</head>
<body>
    <h2>신체질량지수(BMI) 계산</h2>
    <p>자신의 성별, 신장, 체중을 입력한 후 계산하기를 눌러 결과를 확인하세요.</p>
    <div id="main">당신의 신체질량지수(BMI)는 23.1 (으)로 비만전단계입니다. <br>평균체중은 68 kg 입니다.</div>
    <form action="#" name="frm" method="get">
        <label>성별</label>
        <input type="radio" name="gender" id="male" value="남성">
        <label for="male">남성</label>
        <input type="radio" name="gender" id="female" value="여성">
        <label for="female">여성</label>
        <br>
        <br>
        <label>신장</label>
        <input type="text" name="height" id="height">
        <label>cm</label>
        <br>
        <br>
        <label>체중</label>
        <input type="text" name="weight" id="weight">
        <label>kg</label>
        <br>
        <br>
        <button type="button" onclick="bmiBtn(weight,height)">계산하기</button>
    </form>
    
</body>
</html>